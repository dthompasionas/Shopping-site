(this["webpackJsonpshopping-site"]=this["webpackJsonpshopping-site"]||[]).push([[0],{1579:function(e,t,c){},1581:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(22),i=c.n(r),s=(c(77),c(34)),l=c(8),j=(c(78),c(21)),o=c(35),d=c(1595),b=c(1586),u=c(66),O=c(1587),h=c(1592),p=c(65),x=c(26),y=c(3),m=function(e){var t=e.rating,c=e.onClick,n=e.style;return Object(y.jsx)(y.Fragment,{children:Object(j.a)(Array(5)).map((function(e,a){return Object(y.jsx)("span",{onClick:function(){return c(a)},style:n,children:t>a?Object(y.jsx)(x.b,{fontSize:"15px"}):Object(y.jsx)(x.c,{fontSize:"15px"})},a)}))})},f=c(20),g=c.n(f),v=c(10),R=function(e,t){switch(t.type){case"ADD_TO_CART":return Object(v.a)(Object(v.a)({},e),{},{cart:[].concat(Object(j.a)(e.cart),[Object(v.a)(Object(v.a)({},t.payload),{},{qty:1})])});case"REMOVE_FROM_CART":return Object(v.a)(Object(v.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case"CHANGE_CART_QTY":return Object(v.a)(Object(v.a)({},e),{},{cart:e.cart.filter((function(e){return e.id===t.payload.id?e.qty=t.payload.qty:e.qty}))});default:return e}},C=function(e,t){switch(t.type){case"SORT_BY_PRICE":return Object(v.a)(Object(v.a)({},e),{},{sort:t.payload});case"FILTER_BY_STOCK":return Object(v.a)(Object(v.a)({},e),{},{byStock:!e.byStock});case"FILTER_BY_DELIVERY":return Object(v.a)(Object(v.a)({},e),{},{byFastDelivery:!e.byFastDelivery});case"FILTER_BY_RATING":return Object(v.a)(Object(v.a)({},e),{},{byRating:t.payload});case"FILTER_BY_SEARCH":return Object(v.a)(Object(v.a)({},e),{},{searchQuery:t.payload});case"CLEAR_FILTERS":return{byStock:!1,byFastDelivery:!1,byRating:0,searchQuery:""};default:return e}},_=Object(n.createContext)();g.a.seed(99);var E=function(e){var t=e.children,c=Object(j.a)(Array(20)).map((function(){return{id:g.a.datatype.uuid(),name:g.a.commerce.productName(),price:g.a.commerce.price(),image:g.a.random.image(),inStock:g.a.random.arrayElement([0,3,5,6,7]),fastDelivery:g.a.datatype.boolean(),ratings:g.a.random.arrayElement([1,2,3,4,5])}})),a=Object(n.useReducer)(R,{products:c,cart:[]}),r=Object(o.a)(a,2),i=r[0],s=r[1],l=Object(n.useReducer)(C,{byStock:!1,byFastDelivery:!1,byRating:0,searchQuery:""}),d=Object(o.a)(l,2),b=d[0],u=d[1];return Object(y.jsx)(_.Provider,{value:{state:i,dispatch:s,productState:b,productDispatch:u},children:t})},k=function(){return Object(n.useContext)(_)},S=c(63),T=c(27),F=c(48),N=c.n(F),D=c(64),I=function(){var e=Object(T.useStripe)(),t=Object(T.useElements)();function c(e){return n.apply(this,arguments)}function n(){return(n=Object(D.a)(N.a.mark((function c(n){var a,r,i;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.next=3,e.createPaymentMethod({type:"card",card:t.getElement(T.CardElement)});case 3:a=c.sent,r=a.error,i=a.paymentMethod,r?console.log(r):console.log(i);case 7:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(y.jsxs)("form",{onSubmit:c,children:[Object(y.jsx)("div",{className:"card-input",children:Object(y.jsx)(T.CardElement,{})}),Object(y.jsx)("div",{className:"pay-btn",children:Object(y.jsx)(p.a,{type:"submit",disabled:!e,onClick:c,children:"Pay Now"})})]})},A=function(){var e=k(),t=e.state.cart,c=e.dispatch,a=Object(n.useState)(),r=Object(o.a)(a,2),i=r[0],s=r[1];return Object(n.useEffect)((function(){s(t.reduce((function(e,t){return e+Number(t.price)*t.qty}),0))}),[t]),Object(y.jsxs)("div",{className:"home",children:[Object(y.jsxs)("div",{className:"productContainer",children:[0===t.length&&"There is nothing in your cart",Object(y.jsx)(d.a,{children:t.map((function(e){return Object(y.jsx)(d.a.Item,{children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)(u.a,{md:2,children:Object(y.jsx)(O.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(y.jsx)(u.a,{md:2,children:Object(y.jsx)("span",{children:e.name})}),Object(y.jsxs)(u.a,{md:2,children:["$ ",e.price]}),Object(y.jsx)(u.a,{md:2,children:Object(y.jsx)(m,{rating:e.ratings})}),Object(y.jsx)(u.a,{md:2,children:Object(y.jsx)(h.a.Control,{as:"select",value:e.qty,onChange:function(t){return c({type:"CHANGE_CART_QTY",payload:{id:e.id,qty:t.target.value}})},children:Object(j.a)(Array(e.inStock).keys()).map((function(e){return Object(y.jsx)("option",{children:e+1},e+1)}))})}),Object(y.jsx)(u.a,{md:2,children:Object(y.jsx)(p.a,{type:"button",variant:"light",onClick:function(){return c({type:"REMOVE_FROM_CART",payload:e})},children:Object(y.jsx)(x.a,{fontSize:"20px"})})})]})},e.id)}))})]}),Object(y.jsxs)("div",{className:"filters summary",children:[Object(y.jsxs)("span",{className:"title",children:["Subtotal (",t.length,") items"]}),Object(y.jsxs)("span",{style:{fontWeight:700,fontSize:20},children:["Total: $ ",i]}),Object(y.jsx)("div",{className:"form",children:t.length>0&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(T.Elements,{stripe:Object(S.a)("pk_test_YoIla19gb6UPKlWc8ZPB7Zio"),children:Object(y.jsx)(I,{})})})})]})]})},L=c(72),w=c(1591),B=c(1588),Y=c(67),M=c(1593),P=c(1590),q=c(1589),H=function(){var e=k(),t=e.state.cart,c=e.dispatch,n=e.productDispatch;return Object(y.jsx)(w.a,{bg:"dark",variant:"dark",style:{height:80},children:Object(y.jsxs)(B.a,{children:[Object(y.jsx)(w.a.Brand,{children:Object(y.jsxs)(s.b,{to:"/",className:"home-link",children:["Random Shopper",Object(y.jsx)("i",{class:"fas fa-tag",id:"icon"})]})}),Object(y.jsx)(w.a.Text,{className:"search",children:Object(y.jsx)(Y.a,{style:{width:500},placeholder:"Search for product",className:"m-auto",onChange:function(e){return n({type:"FILTER_BY_SEARCH",payload:e.target.value})}})}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(P.a,{alignRight:!0,children:[Object(y.jsxs)(P.a.Toggle,{variant:"success",className:"dropcart",children:[Object(y.jsx)(L.a,{color:"white",fontSize:"25px"}),Object(y.jsx)(q.a,{children:t.length})]}),Object(y.jsx)(P.a.Menu,{style:{minWidth:370},children:t.length>0?Object(y.jsxs)(y.Fragment,{children:[t.map((function(e){return Object(y.jsxs)("span",{className:"cartitem",children:[Object(y.jsx)("img",{src:e.image,className:"cartItemImg",alt:e.name}),Object(y.jsxs)("div",{className:"cartItemDetail",children:[Object(y.jsx)("span",{children:e.name}),Object(y.jsxs)("span",{children:["$ ",e.price.split(".")[0]]})]}),Object(y.jsx)(x.a,{fontSize:"20px",style:{cursor:"pointer"},onClick:function(){return c({type:"REMOVE_FROM_CART",payload:e})}})]},e.id)})),Object(y.jsx)(s.b,{to:"/cart",children:Object(y.jsx)(p.a,{style:{width:"95%",margin:"0 10px"},children:"Go to Cart"})})]}):Object(y.jsx)("span",{style:{padding:10},children:"Cart is Empty!"})})]})})]})})},z=function(){var e=k(),t=e.productState,c=t.byStock,n=t.byFastDelivery,a=t.sort,r=t.byRating,i=e.productDispatch;return Object(y.jsxs)("div",{className:"filters",children:[Object(y.jsx)("span",{className:"title",children:"Filter Products"}),Object(y.jsx)("span",{children:Object(y.jsx)(h.a.Check,{inline:!0,label:"Ascending",name:"group1",type:"radio",id:"inline-1",onChange:function(){return i({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===a})}),Object(y.jsx)("span",{children:Object(y.jsx)(h.a.Check,{inline:!0,label:"Descending",name:"group1",type:"radio",id:"inline-2",onChange:function(){return i({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===a})}),Object(y.jsx)("span",{children:Object(y.jsx)(h.a.Check,{inline:!0,label:"Include Out of Stock",name:"group1",type:"checkbox",id:"inline-3",onChange:function(){return i({type:"FILTER_BY_STOCK"})},checked:c})}),Object(y.jsx)("span",{children:Object(y.jsx)(h.a.Check,{inline:!0,label:"Fast Delivery Only",name:"group1",type:"checkbox",id:"inline-4",onChange:function(){return i({type:"FILTER_BY_DELIVERY"})},checked:n})}),Object(y.jsxs)("span",{children:[Object(y.jsx)("label",{style:{paddingRight:10},children:"Rating:"}),Object(y.jsx)(m,{rating:r,onClick:function(e){return i({type:"FILTER_BY_RATING",payload:e+1})},style:{cursor:"pointer"}})]}),Object(y.jsx)(p.a,{variant:"light",onClick:function(){return i({type:"CLEAR_FILTERS"})},children:"Clear Filters"})]})},Q=c(1594),V=function(e){var t=e.prod,c=k(),n=c.state.cart,a=c.dispatch;return Object(y.jsx)("div",{className:"products",children:Object(y.jsxs)(Q.a,{children:[Object(y.jsx)(Q.a.Img,{variant:"top",src:t.image,alt:t.namr}),Object(y.jsxs)(Q.a.Body,{children:[Object(y.jsx)(Q.a.Title,{children:t.name}),Object(y.jsxs)(Q.a.Subtitle,{style:{paddingBottom:10},children:[Object(y.jsxs)("span",{children:["$ ",t.price.split(".")[0]]}),t.fastDelivery?Object(y.jsx)("div",{children:"Fast Delivery"}):Object(y.jsx)("div",{children:"4 Day Delivery"}),Object(y.jsx)(m,{rating:t.ratings})]}),n.some((function(e){return e.id===t.id}))?Object(y.jsx)(p.a,{onClick:function(){a({type:"REMOVE_FROM_CART",payload:t})},variant:"danger",children:"Remove from Cart"}):Object(y.jsx)(p.a,{onClick:function(){a({type:"ADD_TO_CART",payload:t})},disabled:!t.inStock,children:t.inStock?"Add to Cart":"Out of Stock"})]})]})})},G=(c(1579),function(){var e=k(),t=e.state.products,c=e.productState,n=c.sort,a=c.byStock,r=c.byFastDelivery,i=c.byRating,s=c.searchQuery;return Object(y.jsxs)("div",{className:"home",children:[Object(y.jsx)(z,{}),Object(y.jsx)("div",{className:"productContainer",children:function(){var e=t;return n&&(e=e.sort((function(e,t){return"lowToHigh"===n?e.price-t.price:t.price-e.price}))),a||(e=e.filter((function(e){return e.inStock}))),r&&(e=e.filter((function(e){return e.fastDelivery}))),i&&(e=e.filter((function(e){return e.ratings>=i}))),s&&(e=e.filter((function(e){return e.name.toLowerCase().includes(s)}))),e}().map((function(e){return Object(y.jsx)(V,{prod:e},e.id)}))})]})});var $=function(){return Object(y.jsxs)(s.a,{children:[Object(y.jsx)(H,{}),Object(y.jsx)(l.a,{path:"/",exact:!0,component:G}),Object(y.jsx)(l.a,{path:"/cart",exact:!0,component:A})]})};c(1580);i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(E,{children:Object(y.jsx)($,{})})}),document.getElementById("root"))},77:function(e,t,c){},78:function(e,t,c){}},[[1581,1,2]]]);
//# sourceMappingURL=main.d88bd0ff.chunk.js.map